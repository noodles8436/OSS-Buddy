
# OSS BUDDY - 시각장애인을 위한 스마트 버스 탑승 시스템 
- 본 프로젝트는 2022 OSS 개발자 대회 제출용 Project 입니다.

프로젝트 구조
-----------------------

Raspberry PI :   
   * 국토교통부에서 제공하는 API (TAGO)를 이용하여 실시간으로 버스 정보를 얻습니다.
   * 서버에 실시간 버스 위치 정보를 전달합니다.
   * 서버에 실시간으로 버스에 접근하는 버스 정보를 전달합니다.
   

설치 및 환경   
-----------------------
개발 및 실험 환경 : Raspberry PI 4 4GB ( RaspPI OS 64 bit )   
필요한 라이브러리는 폴더 내의 requirements.txt를 참고해주시기 바랍니다.   


실행방법
-----------------------
실행에 앞서 PROTOCOL.py 내부의 **SERVER_IP와 SERVER_PORT 값을 변경해주세요.**   
또한 buddy_bus.json의 형태로 정류소의 정보와 경유하는 버스 정보들을 입력하여 주세요.   
하단의 명령은 라즈베리파이 클라이언트를 실행하는 명령어 입니다.   

```
python Raspberry.py
```

클래스 설명
-----------------------   
1. ### BusManager.py
   BusTracker.py 에서 얻은 데이터를 저장 및 가공하는 클래스입니다.
2. ### BusTracker.py   
   국토교통부에서 제공하는 API(TAGO)를 이용하여 실시간으로 버스의 위치 및 정류정 정보를 얻어 처리하는 클래스입니다.
3. ### Detector.py   
   Model.py에 구축된 YoloV7 + EasyOCR 모델을 사용하여 사진 속 버스 번호를 검출하는 클래스입니다.
4. ### FileManager.py     
   정류장의 정보 및 정류장을 경유하는 버스 정보를 저장하고 불러오기 위한 클래스입니다.
5. ### Model.py   
   YoloV7 + EasyOCR 모델을 구축하는 클래스입니다.
6. ### PROTOCOL.py   
   서버와 통신하기 위한 규칙이 정의된 클래스입니다.
7. ### RaspMain.py   
   서버로부터 정류장을 경유하는 버스들의 현재위치 및 서버의 요청을 처리하고, 현재 정류장 바로 앞에 위치한 버스가 어떤 버스인지 전달하는 클래스입니다.
